<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Admin Paneli</title>
    <link rel="stylesheet" href="style.css">
</head>
<body style="overflow:auto; background:#222;">
    <div class="auth-container" style="flex-direction:column; gap:20px; padding: 50px 0;">
        <h1 style="color:var(--primary-color)">YÃ¶netim Paneli</h1>

        <div class="glass-panel">
            <h2>ğŸ¥ Yeni Sahne Ekle</h2>
            <p style="font-size:0.8rem; color:#aaa; margin-bottom:10px;">Ana arka plan videosu</p>
            <form id="upload-scene">
                <input type="text" name="name" placeholder="Sahne AdÄ± (Ã–rn: Orman Evi)" required>
                <input type="color" name="themeColor" value="#a29bfe">
                <label style="color:#ccc; display:block; text-align:left;">Video (.mp4)</label>
                <input type="file" name="video" accept="video/mp4" required>
                <button class="btn-primary">Sahneyi Ekle</button>
            </form>
        </div>

        <div class="glass-panel">
            <h2>ğŸ§ Ortam Sesi Ekle</h2>
            <p style="font-size:0.8rem; color:#aaa; margin-bottom:10px;">Mikser iÃ§in ses efekti (YaÄŸmur, Kafe vb.)</p>
            <form id="upload-sound">
                <input type="text" name="name" placeholder="Ses AdÄ± (Ã–rn: ÅÃ¶mine)" required>
                <label style="color:#ccc; display:block; text-align:left;">Ses DosyasÄ± (.mp3)</label>
                <input type="file" name="audio" accept="audio/*" required>
                <button class="btn-primary" style="background: linear-gradient(135deg, #00b894, #00cec9);">Sesi Ekle</button>
            </form>
        </div>

        <div class="glass-panel">
            <h2>ğŸ” GiriÅŸ EkranÄ± Videosu</h2>
            <p style="font-size:0.8rem; color:#aaa; margin-bottom:10px;">Login/Register arka planÄ±</p>
            <form id="upload-login-video">
                <label style="color:#ccc; display:block; text-align:left;">Video (.mp4)</label>
                <input type="file" name="video" accept="video/mp4" required>
                <button class="btn-primary" style="background: linear-gradient(135deg, #e17055, #d63031);">Videoyu GÃ¼ncelle</button>
            </form>
        </div>
        
        <a href="/" style="color:white; margin-bottom:50px;">â† Ana Sayfaya DÃ¶n</a>
    </div>

    <script>
        // Sahne YÃ¼kle
        document.getElementById('upload-scene').addEventListener('submit', async (e) => {
            e.preventDefault();
            const res = await fetch('/api/scenes', { method: 'POST', body: new FormData(e.target) });
            const data = await res.json();
            alert(data.success ? 'Sahne Eklendi!' : 'Hata!');
            if(data.success) e.target.reset();
        });

        // Ortam Sesi YÃ¼kle
        document.getElementById('upload-sound').addEventListener('submit', async (e) => {
            e.preventDefault();
            const res = await fetch('/api/sounds', { method: 'POST', body: new FormData(e.target) });
            const data = await res.json();
            alert(data.success ? 'Ses Miksere Eklendi!' : 'Hata!');
            if(data.success) e.target.reset();
        });

        // GiriÅŸ Videosu GÃ¼ncelle
        document.getElementById('upload-login-video').addEventListener('submit', async (e) => {
            e.preventDefault();
            const res = await fetch('/api/settings/login-video', { method: 'POST', body: new FormData(e.target) });
            const data = await res.json();
            alert(data.success ? 'GiriÅŸ Videosu DeÄŸiÅŸti!' : 'Hata!');
            if(data.success) e.target.reset();
        });
    </script>
</body>
</html>